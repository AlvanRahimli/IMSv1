@using IMSv1.Models
@model IMSv1.Models.Transaction

@{
    ViewBag.Title = "Satış Detalları";
    Layout = "_Layout";
    ViewData["transactions_active"] = "active";
    var client = ViewData["client"] as UserClient ?? new UserClient();
}
<div style="text-align: center">
    <h2>SATIŞ</h2>
    <br>
    <h3>Nömrə: @Model.Id</h3>
</div>
<br>
<br>
<h3 style="float: right">@Model.Date.ToString("dd MMMM yyyy")</h3>
<h2>@Model.From.Name</h2>
<br>
<h2>@Model.To.Name</h2>
<br>
<br>
<br>
<table class="table table-bordered table-striped" style="font-size: 1.8em">
    <thead>
    <tr>
        <th scope="col">Malın Adı</th>
        <th scope="col">Qablaşdırma</th>
        <th scope="col">Bir ədədin qiyməti</th>
        <th scope="col">Sayı</th>
        <th scope="col">Cəmi</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var p in Model.Content)
    {
        <tr>
            <td>@p.Product.Name</td>
            <td>@p.Product.Packaging</td>
            <td>@((decimal) p.SalePrice / 100) &#8380</td>
            <td>@p.Count</td>
            <td>@((decimal) (p.Count * p.SalePrice) / 100) &#8380</td>
        </tr>
    }
    <tr>
        <th>CƏMİ</th>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <th colspan="4">@((decimal)Model.Content.Sum(tp => tp.TotalPrice) / 100) &#8380</th>
    </tr>
    </tbody>
</table>

<br>
<br>
<div style="font-family: 'Times New Roman',serif">
    <h3>Ilkin borc: @((decimal)(client.Debt - Model.TotalAmount) / 100) &#8380;</h3>
    <h3>Ödənilən məbləğ: ________</h3>
    <h3>Yekun borc: @((decimal)client.Debt / 100) &#8380;</h3>
</div>